<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’– çˆ±å¿ƒæ¶ˆæ¯ç”Ÿæˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #ffafbd, #ffc3a0);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .control-panel {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            width: 100%;
            max-width: 400px;
        }
        
        h1 {
            color: #ff69b4;
            text-align: center;
            margin-bottom: 25px;
            font-size: 24px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .heart {
            color: #ff69b4;
            margin: 0 5px;
        }
        
        .counter {
            text-align: center;
            font-weight: bold;
            margin: 20px 0;
            font-size: 18px;
            color: #333;
            background: #fff5f7;
            padding: 12px;
            border-radius: 12px;
            border: 2px dashed #ffb6c1;
        }
        
        .control-group {
            margin: 20px 0;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 14px;
        }
        
        input {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: 2px solid #ffb6c1;
            border-radius: 12px;
            font-size: 16px;
            text-align: center;
            outline: none;
        }
        
        input:focus {
            border-color: #ff69b4;
            box-shadow: 0 0 8px rgba(255, 105, 180, 0.3);
        }
        
        .buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 25px 0;
        }
        
        button {
            padding: 14px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            font-size: 14px;
            color: white;
        }
        
        .create-btn { background: #ffb6c1; }
        .clear-btn { background: #add8e6; }
        .auto-btn { background: #90ee90; }
        .stop-btn { background: #ffa07a; }
        
        button:active {
            transform: translateY(2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .create-btn:active { background: #ff69b4; }
        .clear-btn:active { background: #87ceeb; }
        .auto-btn:active { background: #7cfc00; }
        .stop-btn:active { background: #ff7f50; }
        
        .message {
            position: fixed;
            background: #ffb6c1;
            padding: 16px 28px;
            border-radius: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: all 0.4s;
            text-align: center;
            font-weight: bold;
            color: #333;
            max-width: 220px;
            word-wrap: break-word;
            font-size: 16px;
            border: 2px solid white;
            z-index: 1000;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .message.show {
            opacity: 1;
            transform: scale(1);
        }
        
        .info {
            background: #f8f9fa;
            padding: 16px;
            border-radius: 12px;
            margin-top: 25px;
            font-size: 13px;
            line-height: 1.6;
            color: #666;
            border-left: 4px solid #ff69b4;
        }
        
        .info strong {
            color: #ff69b4;
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .footer {
            text-align: center;
            margin-top: 20px;
            color: #999;
            font-size: 12px;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 480px) {
            body {
                padding: 15px;
            }
            
            .control-panel {
                padding: 20px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            .buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="control-panel">
        <h1><span class="heart">ğŸ’–</span> çˆ±å¿ƒæ¶ˆæ¯ç”Ÿæˆå™¨ <span class="heart">ğŸ’–</span></h1>
        
        <div class="counter" id="counter">å½“å‰æ¶ˆæ¯æ•°é‡: 0</div>
        
        <div class="control-group">
            <label for="windowCount">è®¾ç½®è¦åˆ›å»ºçš„æ¶ˆæ¯æ•°é‡:</label>
            <input type="number" id="windowCount" min="1" max="30" value="10">
        </div>
        
        <div class="buttons">
            <button class="create-btn" onclick="createMultipleMessages()">åˆ›å»ºæ¶ˆæ¯</button>
            <button class="clear-btn" onclick="clearAllMessages()">æ¸…é™¤æ‰€æœ‰</button>
            <button class="auto-btn" onclick="startAutoMode()">è‡ªåŠ¨æ¨¡å¼</button>
            <button class="stop-btn" onclick="stopAutoMode()">åœæ­¢è‡ªåŠ¨</button>
        </div>
        
        <div class="info">
            <strong>ğŸ’¡ ä½¿ç”¨è¯´æ˜:</strong>
            â€¢ å…ˆè®¾ç½®æƒ³è¦çš„æ¶ˆæ¯æ•°é‡<br>
            â€¢ ç‚¹å‡»"åˆ›å»ºæ¶ˆæ¯"æŒ‰é’®<br>
            â€¢ è‡ªåŠ¨æ¨¡å¼ä¼šæŒç»­åˆ›å»ºæ¶ˆæ¯<br>
            â€¢ ç‚¹å‡»ä»»æ„æ¶ˆæ¯å¯ä»¥å…³é—­å®ƒ<br>
            â€¢ åœ¨å¾®ä¿¡ä¸­å¯ç›´æ¥åˆ†äº«ç»™å¥½å‹
        </div>
        
        <div class="footer">
            ä¸“ä¸ºæµªæ¼«æ—¶åˆ»è®¾è®¡ ğŸ’
        </div>
    </div>

    <script>
        // çˆ±å¿ƒæ¶ˆæ¯å†…å®¹
        const messages = [
            "æˆ‘æƒ³ä½ äº†ï¼ğŸ’•", "ä½ å¥½å¯çˆ±ï¼ğŸ˜Š", "ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ", "ä½ æ˜¯æˆ‘çš„ä¸€åˆ‡ ğŸŒŸ",
            "çˆ±ä½ å“¦ï¼â¤ï¸", "å¥½æƒ³ä½ å‘€", "ä½ æ˜¯æœ€æ£’çš„ï¼ğŸ‘", "å¿ƒå¿ƒå¿µå¿µéƒ½æ˜¯ä½  ğŸ’­",
            "é‡è§ä½ çœŸå¥½ âœ¨", "ä½ ç¬‘èµ·æ¥çœŸå¥½çœ‹ ğŸ˜„", "æƒ³æŠ±æŠ±ä½  ğŸ¤—", "æ°¸è¿œåœ¨ä¸€èµ· ğŸ’‘",
            "ä»Šå¤©ç‰¹åˆ«æƒ³ä½ ", "ä½ åœ¨æˆ‘å¿ƒé‡Œ ğŸ’—", "è¶…çº§å–œæ¬¢ä½ ï¼", "æ¯ä¸€å¤©éƒ½çˆ±ä½  ğŸ¯",
            "ä½ æ˜¯æˆ‘çš„å°å¹¸è¿ ğŸ€", "æƒ³ä½ æƒ³åˆ°ç¡ä¸ç€", "çˆ±ä½ ä¸‰åƒé ğŸ’«", "æˆ‘çš„å…¨ä¸–ç•Œ ğŸŒ"
        ];
        
        // çˆ±å¿ƒé¢œè‰²
        const colors = [
            "#ffb6c1", "#ff69b4", "#ffc0cb", "#db7093", 
            "#ffa07a", "#f08080", "#ff9999", "#ff7777",
            "#ffb8d9", "#ff85a2", "#ff9eb5", "#ffa8c8"
        ];
        
        let messageCount = 0;
        let autoInterval = null;
        let allMessages = [];

        // åˆ›å»ºå•ä¸ªçˆ±å¿ƒæ¶ˆæ¯
        function createSingleMessage() {
            const messageElement = document.createElement('div');
            messageElement.className = 'message';
            
            // éšæœºé€‰æ‹©æ¶ˆæ¯å’Œé¢œè‰²
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            
            messageElement.textContent = randomMessage;
            messageElement.style.background = randomColor;
            
            // éšæœºä½ç½®ï¼ˆé¿å…è¶…å‡ºå±å¹•ï¼‰
            const maxX = window.innerWidth - 250;
            const maxY = window.innerHeight - 100;
            const randomX = Math.max(20, Math.min(maxX, Math.random() * maxX));
            const randomY = Math.max(20, Math.min(maxY, Math.random() * maxY));
            
            messageElement.style.left = randomX + 'px';
            messageElement.style.top = randomY + 'px';
            
            // ç‚¹å‡»å…³é—­æ•ˆæœ
            messageElement.onclick = function() {
                closeMessage(this);
            };
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(messageElement);
            allMessages.push(messageElement);
            messageCount++;
            updateCounter();
            
            // æ˜¾ç¤ºåŠ¨ç”»
            setTimeout(() => {
                messageElement.classList.add('show');
            }, 10);
        }

        // å…³é—­æ¶ˆæ¯
        function closeMessage(messageElement) {
            messageElement.classList.remove('show');
            setTimeout(() => {
                if (messageElement.parentNode) {
                    messageElement.remove();
                    const index = allMessages.indexOf(messageElement);
                    if (index > -1) {
                        allMessages.splice(index, 1);
                    }
                    messageCount--;
                    updateCounter();
                }
            }, 400);
        }

        // åˆ›å»ºå¤šä¸ªæ¶ˆæ¯
        function createMultipleMessages() {
            const targetCount = parseInt(document.getElementById('windowCount').value);
            
            if (isNaN(targetCount) || targetCount < 1 || targetCount > 30) {
                alert('è¯·è¾“å…¥1åˆ°30ä¹‹é—´çš„æ•°å­—ï¼');
                return;
            }
            
            const messagesToCreate = targetCount - messageCount;
            
            if (messagesToCreate <= 0) {
                alert('å½“å‰æ¶ˆæ¯æ•°é‡å·²ç»è¾¾åˆ°æˆ–è¶…è¿‡ç›®æ ‡æ•°é‡å•¦ï¼');
                return;
            }
            
            let created = 0;
            const createInterval = setInterval(() => {
                createSingleMessage();
                created++;
                if (created >= messagesToCreate) {
                    clearInterval(createInterval);
                }
            }, 150);
        }

        // æ¸…é™¤æ‰€æœ‰æ¶ˆæ¯
        function clearAllMessages() {
            allMessages.forEach((msg, index) => {
                setTimeout(() => {
                    closeMessage(msg);
                }, index * 50);
            });
            
            setTimeout(() => {
                messageCount = 0;
                updateCounter();
            }, allMessages.length * 50 + 400);
        }

        // å¼€å§‹è‡ªåŠ¨æ¨¡å¼
        function startAutoMode() {
            if (autoInterval) {
                alert('è‡ªåŠ¨æ¨¡å¼å·²ç»åœ¨è¿è¡Œå•¦ï¼');
                return;
            }
            
            const maxMessages = parseInt(document.getElementById('windowCount').value);
            
            if (isNaN(maxMessages) || maxMessages < 1 || maxMessages > 30) {
                alert('è¯·å…ˆè®¾ç½®åˆç†çš„æ¶ˆæ¯æ•°é‡ï¼ˆ1-30ï¼‰ï¼');
                return;
            }
            
            autoInterval = setInterval(() => {
                if (messageCount < maxMessages) {
                    createSingleMessage();
                } else {
                    stopAutoMode();
                    setTimeout(() => {
                        alert(`å·²ç»åˆ›å»ºäº† ${maxMessages} ä¸ªçˆ±å¿ƒæ¶ˆæ¯å•¦ï¼ğŸ’`);
                    }, 500);
                }
            }, 800);
            
            alert(`è‡ªåŠ¨æ¨¡å¼å¼€å§‹å•¦ï¼å°†ä¼šåˆ›å»º ${maxMessages} ä¸ªçˆ±å¿ƒæ¶ˆæ¯ ğŸ’–`);
        }

        // åœæ­¢è‡ªåŠ¨æ¨¡å¼
        function stopAutoMode() {
            if (autoInterval) {
                clearInterval(autoInterval);
                autoInterval = null;
                alert('è‡ªåŠ¨æ¨¡å¼å·²åœæ­¢ âœ‹');
            } else {
                alert('è‡ªåŠ¨æ¨¡å¼è¿˜æ²¡æœ‰å¼€å§‹å‘¢ï½');
            }
        }

        // æ›´æ–°è®¡æ•°å™¨æ˜¾ç¤º
        function updateCounter() {
            document.getElementById('counter').textContent = `å½“å‰æ¶ˆæ¯æ•°é‡: ${messageCount}`;
        }

        // é¡µé¢åŠ è½½æ—¶åˆ›å»ºå‡ ä¸ªåˆå§‹æ¶ˆæ¯
        window.onload = function() {
            setTimeout(() => {
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => createSingleMessage(), i * 400);
                }
            }, 500);
            
            // æ·»åŠ è§¦æ‘¸äº‹ä»¶æ”¯æŒï¼ˆç§»åŠ¨ç«¯ï¼‰
            document.addEventListener('touchstart', function(e) {
                if (e.touches.length > 1) {
                    e.preventDefault();
                }
            }, { passive: false });
        };

        // é˜²æ­¢æ‰‹æœºç«¯æ‹–åŠ¨æ—¶é€‰ä¸­æ–‡æœ¬
        document.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false });
    </script>
</body>
</html>